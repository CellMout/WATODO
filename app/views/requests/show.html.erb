<div class="container pt-5">


  <div class="row row-cols-1 row-cols-md-2 g-1">
    <% @request.activities.each do |activity| %>

      <div class="col">
        <div class="card shadow-sm" style="height: 140px; overflow: hidden;">
          <div class="card-body d-flex flex-column justify-content-between p-3">
            <h2 class="card-title text-truncate"><%= activity.name %></h2>

            <p class="card-text text-truncate mb-2">
              <%= activity.description %>
            </p>

            <p data-controller="doitbutton" data-doitbutton-gmaps-value=<%= activity.gmaps_params %> >
              <%= link_to "Do it!", activity_path(activity), data: { 'turbo-method': :patch, action: "doitbutton#send", doitbutton_target: "link" }, class: "custom-btn"%>
            </p>
         </div>
       </div>
     <% end %>
   </div>

   <div style="width: 100%; height: 600px;"
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>
